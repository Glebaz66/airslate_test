window.addEventListener("DOMContentLoaded",()=>{const s=document.querySelector(".js-form");new FormHandler(s)});class FormHandler{constructor(s){null!==s&&(this.form=s,this.email=this.form.querySelector('input[name="email"]'),this.password=this.form.querySelector('input[name="password"]'),this.submit=this.form.querySelector(".js-submit"),this.error=this.form.querySelectorAll(".form__error"),this.isValid=!1,this.data={email:this.email.value,password:this.password.value},this.submit.addEventListener("click",s=>{s.preventDefault(),!0===this.isValid&&this.sendForm()}),Array.from([this.email,this.password]).forEach(s=>{s.addEventListener("keypress",e=>{this.validateOnKeyPress(e,s)}),s.addEventListener("click",()=>{this.handleFocus(s)}),s.addEventListener("focus",()=>{s.classList.remove("focus"),s.classList.remove("error"),s.nextElementSibling.classList.remove("active")}),s.addEventListener("focusout",()=>{s.classList.remove("focus"),s.classList.remove("error"),s.nextElementSibling.classList.remove("active"),this.validator(s),this.setValidiry(this.isValid,s)})}))}handleFocus(s){s.classList.add("focus")}validator(s){let e;e="email"===s.dataset.type?/[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$/:"";const t=s.value.match(e);return""===s.value||null===t?this.isValid=!1:this.isValid=!0}validateOnKeyPress(s,e){"Enter"===s.key&&(s.preventDefault(),this.validator(e),this.setValidiry(this.isValid,e))}setValidiry(s,e){!1===s?(e.classList.add("error"),e.nextElementSibling.classList.add("active")):(e.classList.remove("error"),e.nextElementSibling.classList.remove("active"))}sendForm(){this.data.email=this.email.value,this.data.password=this.password.value,this.form.submit()}}